# File generated by the GradleUtils `setupGitHubActionsWorkflows` task, avoid modifying it directly
# The template can be found at https://github.com/neoforged/GradleUtils/blob/a65628b0c89dec60b357ce3f8f6bfa62934b8357/src/actionsTemplate/resources/.github/workflows/publish-prs.yml

name: Release

on:
  workflow_dispatch:
    inputs:
      minecraft_version:
        type: string
        description: The Minecraft Version for which to publish
        required: true

permissions:
  contents: read
  statuses: write

jobs:
  release:
    uses: neoforged/actions/.github/workflows/gradle-publish.yml@main
    with:
      java: 21
      gradle_tasks: publish "-PminecraftVersion=${{ github.event.inputs.minecraft_version }}"
    secrets:
      DISCORD_WEBHOOK: ${{ secrets.DISCORD_WEBHOOK }}
      MAVEN_USER: ${{ secrets.MAVEN_USER }}
      MAVEN_PASSWORD: ${{ secrets.MAVEN_PASSWORD }}
      GPG_SUBKEY: ${{ secrets.GPG_SUBKEY }}
      GPG_SUBKEY_ID: ${{ secrets.GPG_SUBKEY_ID }}
      GPG_SUBKEY_PASSWORD: ${{ secrets.GPG_SUBKEY_PASSWORD }}
